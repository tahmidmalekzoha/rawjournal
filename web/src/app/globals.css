@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

body {
  @apply bg-background text-text-primary antialiased;
}

/* Shared input styles */
.input {
  @apply w-full rounded-lg border border-border bg-surface px-4 py-2.5 text-text-primary outline-none transition-colors focus:border-accent;
}

.input-sm {
  @apply rounded-lg border border-border bg-surface px-3 py-1.5 text-sm text-text-primary outline-none transition-colors focus:border-accent;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  @apply bg-background;
}
::-webkit-scrollbar-thumb {
  @apply bg-border rounded-full;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-text-secondary;
}

/* ── Wireframe Globe ── */
.globe-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1200px;
}

.globe {
  --globe-size: 340px;
  --globe-r: 170px;
  position: relative;
  width: var(--globe-size);
  height: var(--globe-size);
  transform-style: preserve-3d;
  animation: globe-rotate 50s linear infinite;
}

@media (min-width: 640px) {
  .globe { --globe-size: 420px; --globe-r: 210px; }
}
@media (min-width: 1024px) {
  .globe { --globe-size: 480px; --globe-r: 240px; }
}

/* ─ Latitude rings (horizontal circles) ─
   Each ring lies flat in the XZ plane (rotateX 90°),
   then translateZ offsets it up/down on the sphere.
   Ring diameter = 2 × R × cos(θ), offset = R × sin(θ).    */
.globe-ring {
  position: absolute;
  inset: 0;
  border: 1px solid rgba(255, 255, 255, 0.13);
  border-radius: 50%;
  transform-style: preserve-3d;
}

/* Equator: θ = 0° → full size, no offset */
.globe-ring-1 {
  transform: rotateX(90deg);
}

/* 25° N: cos(25°)≈0.906 → scale, sin(25°)*R ≈ 0.423*R → translateZ */
.globe-ring-2 {
  transform: rotateX(90deg) translateZ(calc(var(--globe-r) * 0.423));
  width: 90.6%;
  height: 90.6%;
  margin: auto;
  border-color: rgba(255, 255, 255, 0.11);
}

/* 25° S (mirror) */
.globe-ring-3 {
  transform: rotateX(90deg) translateZ(calc(var(--globe-r) * -0.423));
  width: 90.6%;
  height: 90.6%;
  margin: auto;
  border-color: rgba(255, 255, 255, 0.11);
}

/* 50° N: cos(50°)≈0.643, sin(50°)≈0.766 */
.globe-ring-4 {
  transform: rotateX(90deg) translateZ(calc(var(--globe-r) * 0.766));
  width: 64.3%;
  height: 64.3%;
  margin: auto;
  border-color: rgba(255, 255, 255, 0.08);
}

/* 50° S */
.globe-ring-5 {
  transform: rotateX(90deg) translateZ(calc(var(--globe-r) * -0.766));
  width: 64.3%;
  height: 64.3%;
  margin: auto;
  border-color: rgba(255, 255, 255, 0.08);
}

/* ─ Longitude meridians (great circles through poles) ─ */
.globe-meridian {
  position: absolute;
  inset: 0;
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 50%;
  transform-style: preserve-3d;
}

.globe-meridian-1 { transform: rotateY(0deg); }
.globe-meridian-2 { transform: rotateY(30deg); }
.globe-meridian-3 { transform: rotateY(60deg); }
.globe-meridian-4 { transform: rotateY(90deg); }
.globe-meridian-5 { transform: rotateY(120deg); }
.globe-meridian-6 { transform: rotateY(150deg); }

/* ─ Trade route arcs (tilted great-circle arcs) ─ */
.globe-arc {
  position: absolute;
  inset: 0;
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 50%;
  transform-style: preserve-3d;
}

.globe-arc-1 { transform: rotateX(40deg) rotateZ(25deg); }
.globe-arc-2 { transform: rotateX(-35deg) rotateZ(-15deg); border-color: rgba(255, 255, 255, 0.14); }
.globe-arc-3 { transform: rotateX(55deg) rotateZ(-40deg); border-color: rgba(255, 255, 255, 0.12); }
.globe-arc-4 { transform: rotateX(-25deg) rotateZ(50deg); border-color: rgba(255, 255, 255, 0.10); }
.globe-arc-5 { transform: rotateX(70deg) rotateZ(10deg); border-color: rgba(255, 255, 255, 0.08); }

/* Glow effect behind globe */
.globe-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 130%;
  height: 130%;
  transform: translate(-50%, -50%);
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.04) 0%, transparent 55%);
  pointer-events: none;
}

/* ─ Orbit tracks — dots travel along globe arcs ─ */
.orbit-track {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  transform-style: preserve-3d;
  pointer-events: none;
}

/* Each orbit matches a globe-arc transform, then spins via rotate() */
.orbit-track-1 { animation: orbit-spin-1 10s linear infinite; }
.orbit-track-2 { animation: orbit-spin-2 14s linear infinite; }
.orbit-track-3 { animation: orbit-spin-3 12s linear infinite; }
.orbit-track-4 { animation: orbit-spin-4 16s linear infinite; }
.orbit-track-5 { animation: orbit-spin-5 18s linear infinite; }

/* Glowing dot that travels along the orbit */
.orbit-dot {
  position: absolute;
  top: -4px;
  left: 50%;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.95);
  box-shadow:
    0 0 6px rgba(255, 255, 255, 0.7),
    0 0 18px rgba(255, 255, 255, 0.3),
    0 0 36px rgba(255, 255, 255, 0.08);
}

.orbit-dot::after {
  content: '';
  position: absolute;
  top: 50%;
  right: 100%;
  width: 24px;
  height: 2px;
  transform: translateY(-50%);
  background: linear-gradient(to left, rgba(255, 255, 255, 0.5), transparent);
  border-radius: 2px;
}

.orbit-dot-alt {
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.7);
  box-shadow:
    0 0 5px rgba(255, 255, 255, 0.5),
    0 0 14px rgba(255, 255, 255, 0.15);
}

.orbit-dot-alt::after {
  width: 18px;
  background: linear-gradient(to left, rgba(255, 255, 255, 0.35), transparent);
}

@keyframes globe-rotate {
  from { transform: rotateY(0deg) rotateX(-12deg); }
  to   { transform: rotateY(360deg) rotateX(-12deg); }
}

/* Orbit spins: each shares its arc's tilt, then adds rotate() */
@keyframes orbit-spin-1 {
  from { transform: rotateX(40deg) rotateZ(25deg) rotate(0deg); }
  to   { transform: rotateX(40deg) rotateZ(25deg) rotate(360deg); }
}
@keyframes orbit-spin-2 {
  from { transform: rotateX(-35deg) rotateZ(-15deg) rotate(0deg); }
  to   { transform: rotateX(-35deg) rotateZ(-15deg) rotate(-360deg); }
}
@keyframes orbit-spin-3 {
  from { transform: rotateX(55deg) rotateZ(-40deg) rotate(0deg); }
  to   { transform: rotateX(55deg) rotateZ(-40deg) rotate(360deg); }
}
@keyframes orbit-spin-4 {
  from { transform: rotateX(-25deg) rotateZ(50deg) rotate(0deg); }
  to   { transform: rotateX(-25deg) rotateZ(50deg) rotate(-360deg); }
}
@keyframes orbit-spin-5 {
  from { transform: rotateX(70deg) rotateZ(10deg) rotate(0deg); }
  to   { transform: rotateX(70deg) rotateZ(10deg) rotate(360deg); }
}

/* ── Floating Particles ── */
.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.25);
  animation: particle-drift linear infinite;
}

.particle-1  { top: 8%;  left: 6%;  animation-duration: 20s; }
.particle-2  { top: 15%; left: 88%; animation-duration: 25s; width: 3px; height: 3px; opacity: 0.5; }
.particle-3  { top: 22%; left: 12%; animation-duration: 18s; opacity: 0.3; }
.particle-4  { top: 35%; left: 4%;  animation-duration: 22s; width: 1px; height: 1px; }
.particle-5  { top: 10%; left: 45%; animation-duration: 28s; opacity: 0.35; }
.particle-6  { top: 50%; left: 94%; animation-duration: 19s; }
.particle-7  { top: 65%; left: 8%;  animation-duration: 24s; width: 3px; height: 3px; opacity: 0.25; }
.particle-8  { top: 75%; left: 90%; animation-duration: 21s; opacity: 0.4; }
.particle-9  { top: 5%;  left: 70%; animation-duration: 26s; width: 1px; height: 1px; }
.particle-10 { top: 42%; left: 2%;  animation-duration: 17s; opacity: 0.3; }
.particle-11 { top: 28%; left: 95%; animation-duration: 23s; width: 2px; height: 2px; }
.particle-12 { top: 58%; left: 6%;  animation-duration: 20s; opacity: 0.35; }
.particle-13 { top: 18%; left: 3%;  animation-duration: 27s; width: 1px; height: 1px; opacity: 0.5; }
.particle-14 { top: 82%; left: 85%; animation-duration: 19s; }
.particle-15 { top: 3%;  left: 25%; animation-duration: 24s; opacity: 0.25; }
.particle-16 { top: 70%; left: 96%; animation-duration: 22s; width: 2px; height: 2px; opacity: 0.4; }
.particle-17 { top: 90%; left: 15%; animation-duration: 21s; opacity: 0.3; }
.particle-18 { top: 12%; left: 55%; animation-duration: 26s; width: 1px; height: 1px; opacity: 0.45; }
.particle-19 { top: 45%; left: 40%; animation-duration: 19s; width: 2px; height: 2px; opacity: 0.25; }
.particle-20 { top: 60%; left: 75%; animation-duration: 23s; opacity: 0.35; }
.particle-21 { top: 85%; left: 50%; animation-duration: 25s; width: 1px; height: 1px; opacity: 0.3; }
.particle-22 { top: 30%; left: 60%; animation-duration: 20s; width: 3px; height: 3px; opacity: 0.2; }
.particle-23 { top: 55%; left: 30%; animation-duration: 27s; opacity: 0.4; }
.particle-24 { top: 78%; left: 65%; animation-duration: 18s; width: 2px; height: 2px; opacity: 0.35; }
.particle-25 { top: 40%; left: 80%; animation-duration: 24s; width: 1px; height: 1px; opacity: 0.45; }
.particle-26 { top: 92%; left: 35%; animation-duration: 22s; opacity: 0.25; }

@keyframes particle-drift {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  5% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.8;
  }
  95% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-120px) translateX(40px);
    opacity: 0;
  }
}
